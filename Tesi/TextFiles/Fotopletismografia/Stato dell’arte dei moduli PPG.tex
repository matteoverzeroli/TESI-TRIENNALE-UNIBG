\section{Stato dell'arte dei moduli PPG}
\textcolor{red}{introduzione}

\textbf{MAX86916} Il modulo MAX86916 è un sensore ottico integrato per applicazioni di bio-sensing, prossimità e colore\cite{IntegratedMAX86916}\todo{definizione dal datasheet: da discutere}. Include quattro LED (rosso, infrarosso, verde, blu), un fotodiodo, elementi ottici e elettronica a basso rumore per circuiti di rimozione della luce ambientale. Il sensore è progettato per agevolare l'utilizzo in dispositivi indossabili, smartphone e assistenti per il fitness. Infatti presenta dimensioni molto ridotte (3.5mm x 7.0 mm x 1.5 mm) e bassi consumi. Il modulo utilizza una singola alimentazione da 1.8 V e un'alimentazione separata di 5.5 V per i LED interni. \`E possibile comunicare con il modulo attraverso un'interfaccia standard I\ap{2}C. Spesso è utilizzato per misurazioni di frequenza cardiaca, saturazione di ossigeno e piattaforme di sensori bio-ottici in modalità riflessiva. Presenta un ADC a 19 bit con frequenza di campionamento programmabile da 50 Hz a 3200 Hz. Il dispositivo integra anche una funzione di prossimità che permette di ridurre la luce visibile e i consumi quando non rileva una superficie vicina. Inoltre, grazie alla presenza di un \textit{Ambient Light Cancellation} (ALC) e di un \textit{Cross Talk Cancellation} è possibile ridurre gli errori di misura causati dall'interferenza della luce ambientale e degli elementi ottici usati. Possiede anche una FIFO che permette di salvare i dati acquisiti senza la necessità di una lettura continua di un microcontrollore.
\begin{figure}[h]
	\centering
	\includegraphics[width=1\linewidth]{ImageFiles/Fotopletismografia/MAX86916BlockDiagram}
	\caption{Schema a blocchi del modulo MAX86916.}
	\label{fig:MAX86916BlockDiagram}
\end{figure}

\textbf{MAX86916} Il MAXM86161 è un sistema di acquisizione di dati ottici completamente integrato a basso consumo\cite{IntegratedMAXM86161}. All'interno sono presenti tre LED (rosso, infrarosso e verde) e un fotodiodo PIN ad alta efficienza. Grazie alle sue dimensioni ridotte (2.9mm x 4.3mm x 1.4mm) è possibile utilizzarlo in dispositivi indossabili ed è ottimizzato per applicazioni intra-auricolari. \`E ideale per misure ottiche di battito cardiaco, SpO\ped{2} e monitoraggio continuo per HRV (Heart Rate Variability) con tecnologia riflessiva. Il sensore opera con una singola tensione di alimentazione che deve essere compresa tra i 3.0V a 5.5V. Essa permette l'alimentazione sia dei LED sia dell'elettronica interna, grazie a un LDO integrato che genera una tensione in uscita di 1.8V. Ogni dispositivo contiene una FIFO a 128 word e presenta un ADC a 19-bit. Per eliminare interferenze con la luce esterna, il sensore integra un circuito di cancellazione della luce ambientale e un'algoritmo di rilevamento e sostituzione chiamato \textit{picket fence}. Infatti, in alcune situazioni in cui la luce ambientale varia molto rapidamente (per esempio quando si è in macchina o esposti alla luce solare) l'ALC potrebbe produrre una stima sbagliata della luce ambientale. La misurazione viene corretta grazie alla funzione \textit{picket fence} in queste condizioni estreme. In aggiunta, è disponibile una funzione di prossimità che permette di ridurre significativamente il consumo di energia per aumentare la durata della batteria nei dispositivi portatili quando il modulo non è a contatto con la pelle. 
\begin{figure}[h]
	\centering
	\includegraphics[width=0.9\linewidth]{ImageFiles/Fotopletismografia/MAXM86161BlockDiagram}
	\caption{Schema a blocchi del modulo MAXM86161.}
	\label{fig:MAXM86161BlockDiagram}
\end{figure}

\textbf{MAX30101} Il sensore MAX30101 è un modulo integrato che permette di effettuare acquisizioni fotopletismografiche per misurazioni di ossimetria e di frequenza cardiaca\cite{IntegratedMAX30101}. Esso fornisce un sistema completo progettato per essere facilmente integrato in dispositivi portatili e indossabili. Presenta dimensioni ridotte (5.6mm x 3.3mm x 1.55mm) integrando tre LED (rosso, infrarosso e verde), un fotodiodo, elementi ottici e elettronica a basso rumore. Il modulo richiede due alimentazioni: una singola alimentazione di 1.8V, per l'alimentazione dei circuiti interni, e una di 5.0V, per alimentare i LED interni. Presenta un'interfaccia I\ap{2}C per la lettura e la scrittura dei registri interni. \`E presente anche una FIFO che permette al microcontrollore collegato la lettura discontinua dei dati acquisiti. All'interno del modulo è presente anche un sensore di temperatura le cui misure sono utilizzate da un algoritmo interno per migliorare la stima del grado di ossigenazione. Quando viene attivata una delle due modalità permesse (HR o SpO\ped{2}), viene anche inizializzata la funzione di prossimità, che permette di ridurre i consumi.   
\begin{figure}[h]
	\centering
	\includegraphics[width=0.9\linewidth]{ImageFiles/Fotopletismografia/MAX30101BlockDiagram}
	\caption{Schema a blocchi del modulo MAX30101.}
	\label{fig:MAX30101BlockDiagram}
\end{figure}
